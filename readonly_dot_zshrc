
typeset -U path cdpath fpath manpath

for profile in ${(z)NIX_PROFILES}; do
  fpath+=($profile/share/zsh/site-functions $profile/share/zsh/$ZSH_VERSION/functions $profile/share/zsh/vendor-completions)
done

HELPDIR="/nix/store/d019pa26shk38v0arihk301a4l14qlk0-zsh-5.9/share/zsh/$ZSH_VERSION/help"




path+="$HOME/.zsh/plugins/powerlevel10k"
fpath+="$HOME/.zsh/plugins/powerlevel10k"
path+="$HOME/.zsh/plugins/powerlevel10k-config"
fpath+="$HOME/.zsh/plugins/powerlevel10k-config"
path+="$HOME/.zsh/plugins/zsh-syntax-highlighting"
fpath+="$HOME/.zsh/plugins/zsh-syntax-highlighting"
path+="$HOME/.zsh/plugins/custom-aws"
fpath+="$HOME/.zsh/plugins/custom-aws"
path+="$HOME/.zsh/plugins/custom-goto"
fpath+="$HOME/.zsh/plugins/custom-goto"
path+="$HOME/.zsh/plugins/custom-git"
fpath+="$HOME/.zsh/plugins/custom-git"

# Oh-My-Zsh/Prezto calls compinit during initialization,
# calling it twice causes slight start up slowdown
# as all $fpath entries will be traversed again.




# oh-my-zsh extra settings for plugins

# oh-my-zsh configuration generated by NixOS
plugins=(colored-man-pages colorize macos asdf docker git terraform helm kubectl aws)


source $ZSH/oh-my-zsh.sh




if [[ -f "$HOME/.zsh/plugins/powerlevel10k/share/zsh-powerlevel10k/powerlevel10k.zsh-theme" ]]; then
  source "$HOME/.zsh/plugins/powerlevel10k/share/zsh-powerlevel10k/powerlevel10k.zsh-theme"
fi
if [[ -f "$HOME/.zsh/plugins/powerlevel10k-config/.p10k.zsh" ]]; then
  source "$HOME/.zsh/plugins/powerlevel10k-config/.p10k.zsh"
fi
if [[ -f "$HOME/.zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.plugin.zsh" ]]; then
  source "$HOME/.zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.plugin.zsh"
fi
if [[ -f "$HOME/.zsh/plugins/custom-aws/aws.sh" ]]; then
  source "$HOME/.zsh/plugins/custom-aws/aws.sh"
fi
if [[ -f "$HOME/.zsh/plugins/custom-goto/goto.zsh" ]]; then
  source "$HOME/.zsh/plugins/custom-goto/goto.zsh"
fi
if [[ -f "$HOME/.zsh/plugins/custom-git/git.sh" ]]; then
  source "$HOME/.zsh/plugins/custom-git/git.sh"
fi


# History options should be set in .zshrc and after oh-my-zsh sourcing.
# See https://github.com/nix-community/home-manager/issues/177.
HISTSIZE="10000"
SAVEHIST="10000"

HISTFILE="$HOME/.zsh_history"
mkdir -p "$(dirname "$HISTFILE")"

setopt HIST_FCNTL_LOCK
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_SPACE
unsetopt HIST_EXPIRE_DUPS_FIRST
setopt SHARE_HISTORY
unsetopt EXTENDED_HISTORY


PATH=/usr/local/bin:$HOME/.local/bin:$PATH

# Get additional ZSH config
if [[ -n $(find ~/.zsh.d -type f 2> /dev/null) ]]; then
  for f in ~/.zsh.d/*; do
    source $f
  done
fi

# Nix
if [ -e '/nix/var/nix/profiles/default/etc/profile.d/nix-daemon.sh' ]; then
  # Multi user install
  source '/nix/var/nix/profiles/default/etc/profile.d/nix-daemon.sh'
elif [ -e  ~/.nix-profile/etc/profile.d/nix.sh ]; then
  # single user install
  source '~/.nix-profile/etc/profile.d/nix.sh'
fi
# End Nix


# Aliases
alias ls='ls -al --color=auto'

# Named Directory Hashes



source /nix/store/45nclcb1x2x8z95n72waix0lb182ls19-zsh-history-substring-search-1.0.2/share/zsh-history-substring-search/zsh-history-substring-search.zsh
bindkey '^[[A' history-substring-search-up
bindkey '^[[B' history-substring-search-down
